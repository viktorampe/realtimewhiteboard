<h1>Welcome to the dev side</h1>

<ng-container *ngIf="(route$ | async) as route">
  <h2 style="color:#E75480">PARAMS IN THIS ROUTE:</h2>
  <ul>
    <li style="color:#E75480"
        *ngFor="let routeParam of route">{{
      routeParam
      }}</li>
  </ul>
</ng-container>

<div class="login_page_component">
  <div [hidden]="loginPageviewModel.isLoggedIn()">
    <div>
      <button (click)="loginPageviewModel.login('student1', 'testje')">
        student
      </button>
      <button (click)="loginPageviewModel.login('teacher1', 'testje')">
        teacher
      </button>
    </div>

    <div class="login_form">
      <input placeholder="username"
             [(ngModel)]="loginPageviewModel.name"
             type="text" />
      <input placeholder="password"
             [(ngModel)]="loginPageviewModel.password"
             type="password" />
      <button (click)="
          loginPageviewModel.login(
            loginPageviewModel.name,
            loginPageviewModel.password
          )
        ">
        login
      </button>
    </div>
  </div>

  <button (click)="loginPageviewModel.logout()">logout</button>

  <div>
    <p>{{ loginPageviewModel.response }}</p>
  </div>
</div>

<button (click)="getCurrentUser()">fetch current user</button>
<div>{{ currentUser | async | json }}</div>

<div><button (click)="updateStudentContentStatus()">update student content status</button></div>

<div><a [routerLink]="['/bundles']"
     routerLinkActive="router-link-active">go to bundle page</a></div>
<div><a [routerLink]="['/tasks']"
     routerLinkActive="router-link-active">go to tasks page</a></div>

<ng-container *ngIf="(effectFeedback$ | async) as feedback">
  <p>Feedback:{{ feedback.message }} (id:
    {{ feedback.triggerAction.payload.alertIds }})</p>
  <ng-container *ngFor="let action of feedback.userActions">
    <button (click)="dispatchAction(action.userAction)">{{
      action.title
      }}</button>
  </ng-container>
  <p><button (click)="removeFeedback(feedback.id)">Feedback verwijderen</button></p>
</ng-container>

<div *ngIf="(alert$ | async) as alert">
  <p><button (click)="setAlertAsRead(alert.id, true)">Markeer melding met id {{ alert.id }} als gelezen EN toon
      feedback
    </button></p>
  <p><button (click)="setAlertAsRead(alert.id, false)">Markeer melding met id {{ alert.id }} als gelezen EN toon geen
      feedback
    </button></p>
  <p><button (click)="setAlertAsUnread(alert.id, true)">Markeer melding met id {{ alert.id }} als ongelezen EN toon
      feedback</button></p>

  <p><button (click)="setAlertAsUnread(alert.id, false)">Markeer melding met id {{ alert.id }} als ongelezen EN toon
      geen
      feedback</button></p>
</div>
