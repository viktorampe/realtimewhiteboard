@import '../../../constants.scss';

* {
  box-sizing: border-box;
}

.whiteboard {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;

  font-family: 'Open Sans', sans-serif;

  campus-whiteboard-toolbar {
    position: absolute;
    top: 24px;
    z-index: 1;
    align-self: center;
  }

  &.image-drag-directive-dragging {
    opacity: 0.8;
  }

  &__header {
    height: 3rem;
    flex: 0 0 auto;
    background: #f8f8f8;

    display: flex;
    justify-content: center;
    align-items: center;

    &__title {
      margin: 0;
      padding: 0;
    }
  }

  &__workspace {
    background: $background;
    width: 100%;
    position: relative;
    flex: 1 1 100%;

    &__card {
      position: absolute;
      top: 0;
      left: 0;

      &:active {
        z-index: 1;
      }

      &.zoom {
        position: fixed;
        z-index: 3; // make sure this is the highest of all z-indexes (z-index of shelf and buttons should be lower)

        transform: translate3d(0, 0, 0) !important;

        height: 100%;
        width: 100%;

        display: flex;
        justify-content: center;
        align-items: center;

        background: #0000008a;
      }

      &.onTop {
        z-index: 1;
      }
    }

    &__actions {
      position: absolute;
      display: flex;
      top: 24px;
      right: 24px;
      z-index: 1;

      &__settingsbutton {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 40px;
        height: 40px;
        box-shadow: 9px 9px 16px #a3b1c6, -9px -9px 16px #ffffff;
        border-radius: 50%;
        transition: box-shadow 300ms;
        background: linear-gradient(
          145deg,
          lighten(#e0e5ec, 5%),
          darken(#e0e5ec, 5%)
        );
        transition: all 300ms;

        &:active {
          box-shadow: inset 1px 1px 6px darken(#e0e5ec, 20%),
            inset -2px -2px 3px #fff, 3px 3px 8px #a3b1c6, -3px -3px 8px #ffffff;
          background: linear-gradient(
            145deg,
            darken(#e0e5ec, 5%),
            lighten(#e0e5ec, 5%)
          );
        }

        mat-icon {
          color: $buttonColor;
        }
      }

      &__zoom {
        margin-left: 24px;
        display: flex;
        align-items: center;
        background-color: $background;
        border-radius: 12px;
        box-shadow: 3px 3px 16px -1px rgba($defaultColor, 0.3),
          9px 9px 16px $shadow-color-dark,
          -1px -1px 6px -3px rgba($defaultColor, 0.2),
          -9px -9px 16px $shadow-color-light;
        background: linear-gradient(
          $gradient-angle,
          lighten($background, 5%),
          darken($background, 5%)
        );

        &:active {
          box-shadow: 1px 1px 8px -1px rgba($defaultColor, 0.3),
            3px 3px 8px $shadow-color-dark,
            -1px -1px 6px -3px rgba($defaultColor, 0.2),
            -3px -3px 8px $shadow-color-light;

          .whiteboard__workspace__actions__zoom__separator {
            opacity: 0;
          }
        }

        &__separator {
          width: 1px;
          align-self: stretch;
          margin: 8px 0;
          box-shadow: -1px 0px 1px $shadow-color-dark,
            1px 0px 1px $shadow-color-light;
        }

        &__button {
          color: $buttonColor;
          padding: 6px;
          height: 36px;
          width: 36px;

          &:active {
            &:first-child {
              border-radius: 12px 0 0 12px;
            }
            &:last-child {
              border-radius: 0 12px 12px 0;
            }
            box-shadow: inset 1px 1px 4px $shadow-color-dark,
              inset -1px -1px 4px $shadow-color-light;
          }
        }
      }
    }
  }

  &__settings {
    width: 60%;
    max-width: 400px;
    position: absolute;
    left: 50%;
    top: 35%;
    transform: translate(-50%, -50%);
  }

  campus-empty-state {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -70%);
    font-weight: 100;

    color: rgba(0, 0, 0, 0.54);

    .ui-empty-state__title {
      font-size: 64px;
    }

    .ui-empty-state__description {
      font-size: 20px;
    }

    mat-icon {
      width: initial;
      height: initial;
    }
  }

  campus-shelf {
    position: absolute;
    bottom: 24px;
    left: 24px;
    right: 24px;
    z-index: 2;
    width: auto;
    overflow-y: visible;
    display: flex;
    justify-content: flex-start;
    align-items: center;
    border-radius: 24px;
    height: auto;
    background: linear-gradient(
      145deg,
      lighten(#e0e5ec, 5%),
      darken(#e0e5ec, 5%)
    );
    box-shadow: $box-shadow-pink;
    transform: translateY(0);
  }

  &-feedback {
    display: block;
    position: fixed;
    top: 24px;
    left: 24px;
    z-index: 9999;
    background: rgba(255, 255, 255, 0.85);
    color: rgba(0, 0, 0, 0.54);
    padding: 12px;
    border-radius: 12px;
    font-size: 9px;
  }
}
