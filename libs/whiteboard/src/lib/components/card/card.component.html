<div
  class="card"
  [class.zoom]="mode === Mode.ZOOM"
  [class.active]="
    mode === Mode.UPLOAD ||
    mode === Mode.SELECTED ||
    mode === Mode.MULTISELECTSELECTED ||
    mode === Mode.MULTISELECT ||
    mode === Mode.EDIT
  "
  [style.border-color]="color"
>
  <div class="card__content" [class.zoom]="mode === Mode.ZOOM">
    <ng-container *ngIf="mode !== Mode.UPLOAD; else uploadMode">
      <campus-card-image
        *ngIf="viewModeImage; else viewModeText"
        class="card__content__image"
        [imageUrl]="image.imageUrl"
        [mode]="mode"
        (remove)="removeImg()"
        (openFilePicker)="selectImage()"
      ></campus-card-image>
      <ng-template #viewModeText class="card__content__input">
        <campus-card-text
          class="card__content__text"
          [(text)]="description"
          (textChange)="updateDescription($event)"
          [mode]="mode"
        ></campus-card-text>
      </ng-template>
    </ng-container>
    <ng-template #uploadMode>
      <campus-progress-bar
        *ngIf="image.progress"
        [progressPercentage]="image.progress"
      ></campus-progress-bar>
    </ng-template>
  </div>
</div>
