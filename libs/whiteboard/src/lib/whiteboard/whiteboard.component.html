<div class="whiteboard" campusImageDrag>
  <campus-whiteboard-toolbar
    *ngIf="isToolbarVisible"
    (deleteCards)="bulkDeleteClicked()"
    (changeSelectedColor)="changeSelectedCardsColor($event)"
    (createCard)="btnPlusClicked()"
  ></campus-whiteboard-toolbar>
  <div class="whiteboard__header">
    <h2
      (click)="showTitleInput()"
      *ngIf="!isTitleInputSelected"
      class="whiteboard__header__title"
      >{{ title }}</h2
    >
    <input
      #titleInput
      (keyup.enter)="hideTitleInput()"
      (focusout)="hideTitleInput()"
      *ngIf="isTitleInputSelected"
      type="text"
      [(ngModel)]="title"
    />
  </div>
  <div class="whiteboard__workspace" (dblclick)="onDblClick($event)">
    <campus-card
      *ngFor="let card of cards"
      cdkDrag
      class="whiteboard__card"
      [description]="card.description"
      [color]="card.color"
      [image]="card.image"
      [left]="card.left"
      [top]="card.top"
      [(mode)]="card.mode"
      (modeChange)="cardModeChanged(card, $event)"
      (lastColor)="saveLastColor($event)"
      (deleteCard)="onDeleteCard(card)"
      (select)="checkToolbarVisible()"
      (deselect)="checkToolbarVisible()"
    ></campus-card>
  </div>
  <button
    mat-fab
    color="primary"
    class="whiteboard__addbutton"
    (click)="btnPlusClicked()"
  >
    <mat-icon style="color: #FFFFFF;" [svgIcon]="'plus'"></mat-icon>
  </button>
  <campus-shelf> </campus-shelf>
</div>
