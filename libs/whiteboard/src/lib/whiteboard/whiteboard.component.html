<div class="whiteboard" campusImageDrag (click)="onClickWhiteboard()">
  <campus-whiteboard-toolbar
    *ngIf="isToolbarVisible"
    (deleteCards)="bulkDeleteClicked()"
    (changeSelectedColor)="changeSelectedCardsColor($event)"
  ></campus-whiteboard-toolbar>
  <div class="whiteboard__header">
    <h2
      *ngIf="!isTitleInputSelected"
      class="whiteboard__header__title"
      (click)="showTitleInput()"
      >{{ title }}</h2
    >
    <input
      type="text"
      #titleInput
      [(ngModel)]="title"
      (keyup.enter)="hideTitleInput()"
      (focusout)="hideTitleInput()"
      *ngIf="isTitleInputSelected"
    />
  </div>
  <div class="whiteboard__workspace" (dblclick)="onDblClick($event)">
    <campus-card
      *ngFor="let card of cards"
      cdkDrag
      class="whiteboard__card"
      [class.zoom]="card.mode === Mode.ZoomMode"
      [cdkDragFreeDragPosition]="{ x: card.left, y: card.top }"
      [(description)]="card.description"
      [(color)]="card.color"
      [(image)]="card.image"
      [(mode)]="card.mode"
      [(viewModeImage)]="card.viewModeImage"
      (modeChange)="cardModeChanged(card, $event)"
      (colorChange)="changeColorForCard(card, $event)"
      (editIconClicked)="cardEditIconClicked(card)"
      (confirmIconClicked)="cardConfirmIconClicked(card)"
      (flipIconClicked)="cardFlipIconClicked(card)"
      (deleteCard)="onDeleteCard(card)"
      (select)="onSelectCard(card)"
      (deselect)="onDeselectCard(card)"
      (cardTapped)="onCardTapped(card)"
      (cardPressed)="onCardPressed(card)"
      (removeImage)="removeImageFromCard(card)"
      (updateImage)="updateImageFromCard(card)"
      (cdkDragEnded)="onDragEnded($event, card)"
    ></campus-card>
  </div>
  <button
    mat-fab
    color="primary"
    class="whiteboard__addbutton"
    (click)="btnPlusClicked()"
  >
    <mat-icon style="color: #FFFFFF;" [svgIcon]="'plus'"></mat-icon>
  </button>
  <button
    mat-fab
    color="primary"
    class="whiteboard__savebutton"
    (click)="saveWhiteboard()"
  >
    <mat-icon style="color: #FFFFFF;" [svgIcon]="'check'"></mat-icon>
  </button>

  <campus-shelf
    [class.minimizedShelf]="isShelfMinimized"
    [cards]="this.shelvedCards"
    [(isMinimized)]="isShelfMinimized"
  ></campus-shelf>
</div>
