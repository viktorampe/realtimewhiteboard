<div class="pages-reports__container">
  <!-- no teacher -->
  <div class="pages-reports__container__no-teacher-box">
    <div>
      <div>
        <mat-icon icon [svgIcon]="'icon-settings'"></mat-icon>
        <span class="pages-reports__container__no-teacher-box__title"
          >Dag {{ 'currentUser.firstName' || 'currentUser.displayName' }}</span
        >
      </div>
    </div>
    <div class="pages-reports__container__no-teacher-box__line"></div>
    <div>
      <p>
        Om POLPO te gebruiken moet je minstens één leerkracht koppelen aan je
        profiel.
      </p>
      <p class="pages-reports__container__no-teacher-box__teacher-button">
        <a>Klik hier om je leerkrachten te koppelen.</a>
      </p>
    </div>
  </div>

  <!-- areas -->
  <campus-page-bar>
    <campus-filter-text-input
      theme="dark"
      class="pages__toolbar__filter"
      [source]="taskInstances$ | async"
    ></campus-filter-text-input>

    <div class="divider"></div>
    <campus-button
      [iconClass]="'list-view'"
      (click)="setListFormat(listFormat.LINE)"
    ></campus-button>
    <campus-button
      [iconClass]="'grid-view'"
      (click)="setListFormat(listFormat.GRID)"
    ></campus-button>
  </campus-page-bar>

  <campus-page-header
    *ngIf="(learningArea$ | async) as learningAreas"
    [title]="'Resultaten'"
    [subtitle]="'Kies een vakgebied'"
    [iconClass]="'increase'"
  >
  </campus-page-header>

  <ng-container
    *ngIf="(filterTextInput.result$ | async) as filteredLearningAreaInstances"
  >
    <div class="pages-reports__container">
      <div class="pages-reports__container__tasks-count">
        {{ filteredLearningAreaInstances.length }} van
        <u (click)="filterTextInput.clear()">{{
          (learningArea$ | async)?.learningAreas.length
        }}</u>
        weergegeven
      </div>

      <campus-list-view
        [listFormat]="listFormat$ | async"
        [placeHolderText]="'Er zijn nog geen resultaten beschikbaar.'"
      >
        <campus-folder
          *ngFor="let instance of filteredLearningAreaInstances"
          [routerLink]="[instance.taskInstance.taskId]"
          campusListItem
          progress="{{instance.taskInstance.progress}}"
          [itemCount]="instance.taskEduContentsCount"
          [title]="instance.task.name"
          [backgroundColor]="(learningArea$ | async).color"
          [icon]="getIcon(instance.finished)"
        >
          <campus-folder-details>
            {{ instance.taskEduContentsCount + ' item(s)' }}<br />
            {{ instance.taskInstance.end | date: 'dd/MM HH:mm' }}
          </campus-folder-details>
        </campus-folder>
      </campus-list-view>
    </div>
  </ng-container>
</div>
