<div class="pages-reports__container">
  <!-- areas -->
  <campus-page-bar>
    <campus-filter-text-input
      theme="dark"
      class="pages__toolbar__filter"
      [source]="(learningAreasWithResults$ | async).learningAreas"
    ></campus-filter-text-input>

    <div class="divider"></div>
    <campus-button
      [iconClass]="'list-view'"
      (click)="clickChangeListFormat(listFormat.LINE)"
    ></campus-button>
    <campus-button
      [iconClass]="'grid-view'"
      (click)="clickChangeListFormat(listFormat.GRID)"
    ></campus-button>
  </campus-page-bar>

  <campus-page-header
    *ngIf="(learningAreasWithResults$ | async) as learningAreas"
    [title]="'Resultaten'"
    [subtitle]="'Kies een vakgebied'"
    [iconClass]="'increase'"
  >
  </campus-page-header>

  <ng-container
    *ngIf="(filterTextInput.result$ | async) as filteredLearningAreaInstances"
  >
    <div class="pages-reports__container">
      <div class="pages-reports__container__tasks-count">
        {{ filteredLearningAreaInstances.length }} van
        <u (click)="filterTextInput.clear()">{{
          (learningAreasWithResults$ | async)?.learningAreas.length
        }}</u>
        weergegeven
      </div>

      <campus-list-view
        [listFormat]="listFormat$ | async"
        [placeHolderText]="'Er zijn nog geen resultaten beschikbaar.'"
      >
        <campus-folder
          *ngFor="let instance of filteredLearningAreaInstances"
          [routerLink]="[instance.learningArea.id]"
          campusListItem
          progress="100"
          [itemCount]="instance.tasksWithResultsCount"
          [title]="instance.learningArea.name"
          [backgroundColor]="instance.learningArea.color"
          [icon]="instance.learningArea.icon"
        >
          <campus-folder-details> </campus-folder-details>
        </campus-folder>
      </campus-list-view>
    </div>
  </ng-container>
</div>
