<campus-tool-bar [fixed]="toolbarFixed">
  <!-- generic input needs to be replaced by the campus filter input -->
  <input #filterInput
         type="text"
         (keyup)="onChangeFilterInput($event.target.value)">
  <div class="divider"></div>
  <campus-button iconClass="icon-tasks"
                 (click)="clickChangeListFormat(listFormatEnum.GRID)"></campus-button>
  <campus-button iconClass="icon-tasks"
                 (click)="clickChangeListFormat(listFormatEnum.LINE)"></campus-button>

</campus-tool-bar>
<div class="pages-bundles__container"
     [ngClass]="{'pages-bundles__container--fixed': toolbarFixed}">

  <campus-page-header [title]="(learningArea$|async).icon.name"
                      [subtitle]="'Bundels'"
                      [iconClass]="(learningArea$|async).icon"></campus-page-header>
  <div class="pages-bundles__container__bundles-count">
    {{(displayedBundles$|async)?.length}} van
    <u class="pages-bundles__container__bundles-count__total"
       (click)="resetFilterInput(); filterInput.value = ''">{{(bundles$|async)?.length}}</u>
    weergegeven
  </div>
  <div class="pages-bundles__container__bundles">
    <campus-list-view [listFormat]="listFormat$|async"
                      [placeHolderText]="'De toegepaste filter bevat geen resultaten'">
      <campus-folder *ngFor="let bundle of displayedBundles$|async"
                     [routerLink]="[(learningArea$|async).id, bundle.id]"
                     campusListItem
                     [listFormat]="listFormat$|async"
                     [itemCount]="bundlesViewModel.getBundleItemCount(bundle)"
                     [title]="bundle.name"
                     [backgroundColor]="(learningArea$|async).color"
                     [icon]="(learningArea$|async).icon.name">
        <campus-folder-details>
          {{ bundlesViewModel.getBundleItemCount(bundle) + " item(s)" }}
        </campus-folder-details>
      </campus-folder>
    </campus-list-view>
  </div>

  <div ng-if="(books$|async).length">
    <campus-page-header [title]="(learningArea$|async).icon.name"
                        [subtitle]="'Boeken'"
                        [iconClass]="(learningArea$|async).icon"></campus-page-header>
    <div class="pages-bundles__container__books-count">
      je hebt {{(books$|async).length}} boek voor {{ (learningArea$|async).name }}
    </div>
    <div class="pages-bundles__container__books">
      <campus-list-view [listFormat]="listFormat$|async">
        <campus-content-thumbnail *ngFor="let book of books$|async"
                                  campusListItem
                                  [listFormat]="listFormat$|async"
                                  [title]="book.title"
                                  [contentTypeClass]="icon-boek"
                                  [imagePath]="book.method.logoUrl"
                                  [fileExtensionClass]="book.type">
        </campus-content-thumbnail>
      </campus-list-view>
    </div>
  </div>
</div>