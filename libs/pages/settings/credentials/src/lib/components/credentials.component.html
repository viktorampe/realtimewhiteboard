<div>
  <!-- todo alert component ? -->
  <div *ngIf="message" class="page-settings-credentials__box">
    {{ message }}
  </div>

  <div class="page-settings-credentials__box">
    <div class="page-settings-credentials__box__header">
      <campus-page-header
        [title]="'NIEUWE KOPPELING MAKEN'"
        [iconClass]="'koppeling'"
      >
      </campus-page-header>
    </div>
    <p>Maak een koppeling met:</p>
    <div class="page-settings-credentials__box__ssolinks">
      <div *ngFor="let ssolink of (ssoLinks$ | async)">
        <campus-button
          *ngIf="ssolink"
          iconClass="'ssolink.icon'"
          (click)="connect(ssolink.connectionType)"
          >{{ ssolink.name }}</campus-button
        >
      </div>
    </div>
  </div>

  <div class="page-settings-credentials__box">
    <div class="page-settings-credentials__box__header">
      <campus-page-header [title]="'MIJN KOPPELING'" [iconClass]="'koppeling'">
      </campus-page-header>
    </div>
    <div *ngFor="let credential of (crednetials$ | async)">
      <campus-person-summary
        [imageUrl]="credential.profile.avatar"
        [name]="credential.profile.displayName"
        [connectionTypeIcon]="getClass(credential.provider)"
      >
        <div description>
          <!-- todo add large ass descripotions -->
          <!--
              <div class="mt-action-body">
                <div class="mt-action-row">
                    <div class="mt-action-info ">
                        <div class="mt-action-icon ">
                            <i ng-class="::vm.getClass(credential.provider)"></i>
                        </div>
                        <div class="mt-action-details " ng-if="::credential.provider=='facebook'">
                            <span class="mt-action-author">{{::credential.profile.name.givenName}} {{::credential.profile.name.familyName}}</span>
                            <p class="mt-action-desc">
                                <span>
                                    <i class="fa fa-link"></i>
                                    <a ng-href="{{::credential.profile.profileUrl}}" target="_blank">Profiel-pagina</a>
                                </span>
                                <span ng-show="{{::credential.profile.emails[0] !== undefined}}">
                                    - <i class="fa fa-envelope"></i>
                                    <a ng-href="{{::vm.mailTo(credential)}}" target="_blank">{{::credential.profile.emails[0].value}}</a>
                                </span>
                                - Laatste update: {{::vm.getDate(credential.modified)}} {{::vm.getTime(credential.modified)}}
                            </p>

                        </div>
                        <div class="mt-action-details " ng-if="::credential.provider=='google'">
                            <span class="mt-action-author">{{::credential.profile.displayName}}</span>

                            <p class="mt-action-desc">
                                <span>
                                    <i class="fa fa-link"></i>
                                    <a ng-href="{{::credential.profile._json.url}}" target="_blank">Profiel-pagina</a>
                                </span>
                                <span ng-show="{{::credential.profile.emails[0] !== undefined}}">
                                    - <i class="fa fa-envelope"></i>
                                    <a ng-href="{{::vm.mailTo(credential)}}" target="_blank">{{::credential.profile.emails[0].value}}</a>
                                </span>
                                  - Laatste update: {{::vm.getDate(credential.modified)}} {{::vm.getTime(credential.modified)}}
                            </p>
                        </div>
                        <div class="mt-action-details " ng-if="::credential.provider=='smartschool'">
                            <span class="mt-action-author">{{::credential.profile.name.givenName}} {{::credential.profile.name.familyName}}</span>

                            <p class="mt-action-desc">
                                <span>
                                    <i class="fa fa-link"></i>
                                    <a ng-href="{{::credential.profile.platform}}" target="_blank">{{::credential.profile.platform }}</a>
                                </span>
                                <span ng-show="{{credential.profile.emails[0] !== undefined}}">
                                    - <i class="fa fa-envelope"></i>
                                    <a ng-href="{{::vm.mailTo(credential)}}" target="_blank">{{::credential.profile.emails[0].value}}</a>
                                </span>
                                - Laatste update: {{::vm.getDate(credential.modified)}} {{::vm.getTime(credential.modified)}}
                            </p>
                        </div>
                    </div>

                    <div class="mt-action-buttons ">
                        <div class="btn-group btn-group-circle">
                            <button ng-click="vm.changeAvatar(credential)"
                                    type="button" class="btn btn-outline green btn-sm" >Gebruik profielfoto</button>

                            <button ng-click='vm.decoupleCredential(credential)'
                                    type="button" class="btn btn-outline red btn-sm">
                                Loskoppelen
                            </button>
                        </div>
                    </div>
                </div>
            </div>
          -->
        </div>
        <campus-button campusRoundedCorners>Gebruik profielfoto</campus-button>
        <campus-button campusRoundedCorners>Loskoppelen</campus-button>
      </campus-person-summary>
    </div>
  </div>
</div>
