<div>
  <!-- todo alert component ? -->
  <div *ngIf="message" class="page-settings-credentials__box">
    {{ message }}
  </div>

  <div class="page-settings-credentials__box">
    <campus-info-panel
      [titleText]="'NIEUWE KOPPELING MAKEN'"
      [icon]="'koppeling'"
    >
    </campus-info-panel>
    <p>Maak een koppeling met:</p>
    <div class="page-settings-credentials__box__ssolinks">
      <div *ngFor="let ssolink of (ssoLinks$ | async)">
        <campus-button
          *ngIf="ssolink"
          [iconClass]="ssolink.logoSrc"
          (click)="addCredential(ssolink)"
          >{{ ssolink.name }}</campus-button
        >
      </div>
    </div>
  </div>

  <div class="page-settings-credentials__box">
    <campus-info-panel [titleText]="'MIJN KOPPELING'" [icon]="'koppeling'">
    </campus-info-panel>
    <div *ngFor="let credential of (credentials$ | async)">
      <campus-person-summary
        [imageUrl]="credential.avatar"
        [name]="getUserNameToDisplayByCredential(credential)"
        [connectionTypeIcon]="getIconForProvider(credential.provider)"
      >
        <div description>
          <p>
            <span *ngIf="credential.profile.emails[0]">
              - <mat-icon icon [svgIcon]="'mail'"></mat-icon>
              <a [href]="mailTo(credential)" target="_blank">{{
                credential.profile.emails[0].value
              }}</a>
            </span>
            - Laatste update: {{ getDate(credential.modified) }}
            {{ credential.modified | humanDateTime }}
          </p>
        </div>
        <campus-button campusRoundedCorners (click)="changeAvatar(credential)"
          >Gebruik profielfoto</campus-button
        >
        <campus-button
          campusRoundedCorners
          (click)="decoupleCredential(credential)"
          >Loskoppelen</campus-button
        >
      </campus-person-summary>
    </div>
  </div>
</div>
