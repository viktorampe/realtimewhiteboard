<campus-page-bar
  ><campus-button
    campusPrimary
    [iconClass]="'book'"
    *ngIf="(boeke$ | async) as boeke"
    (click)="clickOpenBoeke(boeke)"
  ></campus-button
></campus-page-bar>
<div class="method-chapter">
  <campus-collapsible-sheet>
    <div aside>
      <a (click)="clickBackLink()" class="method-chapter__back-link"
        ><mat-icon svgIcon="arrow-back"></mat-icon>Terug</a
      >
      <ng-container>
        <mat-list>
          <mat-list-item
            *ngFor="let lesson of (lessonsForChapter$ | async)"
            (click)="clickOpenLesson(lesson.id)"
            class="method-chapter__lesson-link"
          >
            <span [class.active]="lesson.id === currentLessonId">{{
              lesson.title
            }}</span></mat-list-item
          ></mat-list
        >
      </ng-container>
    </div>

    <div main>
      <mat-tab-group>
        <mat-tab label="Lesmateriaal">
          <div class="method-chapter--filters">
            <ng-container searchPortal="searchTerm"></ng-container>
            <ng-container searchPortal="hostTop"></ng-container>
            <campus-button campusPrimary (click)="clearSearchFilters()"
              >Reset Filters</campus-button
            >
          </div>
          <campus-search
            [autoCompleteValues]="autoCompleteValues$ | async"
            (searchTermChangeForAutoComplete)="onAutoCompleteRequest($event)"
            [autoFocusSearchTerm]="true"
            [searchMode]="searchMode$ | async"
            [initialState]="initialSearchState$ | async"
            [searchResults]="searchResults$ | async"
            (searchState$)="onSearchStateChange($event)"
          ></campus-search>
        </mat-tab>
        <mat-tab label="Leerplandoelen">Leerplandoelen</mat-tab>
      </mat-tab-group>
    </div>
  </campus-collapsible-sheet>
</div>
