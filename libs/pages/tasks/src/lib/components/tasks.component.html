<campus-page-bar>
  <campus-filter-text-input theme="dark"
                            (filterTextChange)="onChangeFilterInput($event)"
                            [filterText]="filterInput$|async"></campus-filter-text-input>
  <div class="divider"></div>
  <campus-button [iconClass]="'icon-timeline'"
                 (click)="setListFormat(listFormat.LINE)"></campus-button>
  <campus-button [iconClass]="'icon-checklist'"
                 (click)="setListFormat(listFormat.GRID)"></campus-button>
</campus-page-bar>

<campus-page-header [title]="(learningArea$|async).name"
                    [subtitle]="'Taken'"
                    [iconClass]="(learningArea$|async).icon">
</campus-page-header>
<div class="pages-tasks__container">
  <div class="pages-bundles__container__tasks-count">
    {{(displayedTaskInstances$|async)?.instances.length}} van
    <u (click)="resetFilterInput(); filterInput.value = ''">{{(taskInstances$|async)?.instances.length}}</u>
    weergegeven
  </div>


  <campus-list-view [listFormat]="listFormat$|async"
                    [placeHolderText]="''">

    <campus-folder *ngFor="let instance of (displayedTaskInstances$|async).instances"
                   [routerLink]="[instance.taskInstance.id]"
                   campusListItem
                   progress="{{getProgress(instance.taskInstance.start, instance.taskInstance.end)}}"
                   [itemCount]="instance.taskEduContentsCount"
                   [title]="instance.taskInstance.name"
                   [backgroundColor]="(learningArea$|async).color"
                   [icon]="getIcon(instance.finished)">
      <campus-folder-details>
        {{ instance.taskEduContentsCount + " item(s)" }}<br />
        {{"Deadline: " + getDeadLineString(instance.taskInstance.end) }}
      </campus-folder-details>
    </campus-folder>

  </campus-list-view>

</div>