<div class="ui-content-editable">
  <span class="ui-content-editable__text" *ngIf="!active">{{ text }}</span>
  <mat-form-field
    class="ui-content-editable__form-field"
    [style.display]="active ? null : 'none'"
  >
    <input
      *ngIf="!multiline"
      (focus)="onFocus($event)"
      matInput
      [(ngModel)]="text"
      (keyup.space)="$event.preventDefault()"
      (keydown.enter)="saveChanges()"
      (keydown.escape)="cancelChanges()"
      campusClickPreventDefault
      campusClickStopPropagation
    />
    <textarea
      *ngIf="multiline"
      matInput
      (focus)="onFocus($event)"
      [(ngModel)]="text"
      (keyup.space)="$event.preventDefault()"
      (keydown.escape)="cancelChanges()"
      campusClickPreventDefault
      campusClickStopPropagation
    >
    </textarea>
  </mat-form-field>
  <span *ngIf="active" class="ui-content-editable__actions">
    <campus-button
      class="ui-content-editable__actions__confirm"
      *ngIf="textIsValid()"
      iconClass="check"
      (click)="saveChanges()"
      campusClickStopPropagation
    ></campus-button>
    <campus-button
      class="ui-content-editable__actions__cancel"
      iconClass="close"
      (click)="cancelChanges()"
      campusClickStopPropagation
    ></campus-button>
  </span>
</div>
