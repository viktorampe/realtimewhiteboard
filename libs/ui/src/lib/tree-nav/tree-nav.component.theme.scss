@mixin ui-tree-nav__levels($levels, $i: 1) {
  @if $i <= length($levels) {
    $level: nth($levels, $i);
    .ui-tree-nav__node {
      @if map-has-key($level, border-top) {
        border-top: map-get($level, border-top);
      }
      @if map-has-key($level, padding) {
        a {
          padding: map-get($level, padding);
        }
      }
      @if map-has-key($level, icon-size) {
        a > i:first-child {
          font-size: map-get($level, icon-size);
        }
      }
      // next level
      @include ui-tree-nav__levels($levels, $i + 1);
    }
  }
}

@mixin ui-tree-nav() {
  // colors
  $ui-tree-nav-color: $ui-font-color-1 !default;
  $ui-tree-nav-color-active: $ui-font-color-2 !default;
  $ui-tree-nav-color-separator: lighten($ui-tree-nav-color, 20%) !default;

  // icons
  $ui-tree-nav-toggle: FontAwesome '\f107' !default;
  $ui-tree-nav-toggle-closed: FontAwesome '\f104' !default;

  @include icon('ui-tree-nav__node--toggle', $ui-tree-nav-toggle);
  @include icon(
    'ui-tree-nav__node--closed .ui-tree-nav__node--toggle',
    $ui-tree-nav-toggle-closed
  );

  //

  //
  .ui-tree-nav__node {
    > a {
      border-left: 3px solid transparent;

      // active / hover state
      &:hover,
      &.ui-tree-nav__node--active {
        color: $ui-tree-nav-color-active;
        border-left: 3px solid $ui-tree-nav-color-active;
      }

      > i:first-child {
        margin-right: 5px;
      }
    }
  }

  // styling of different tree levels
  $ui-tree-nav-levels: (
    (
      padding: 10px 15px,
      border-top: 1px solid $ui-tree-nav-color-separator,
      icon-size: 30px
    ),
    (
      padding: 6px 15px 6px 43px,
      border-top: none,
      icon-size: 30px
    ),
    (
      padding: 6px 15px 6px 60px
    )
  ) !default;
  @include ui-tree-nav__levels($ui-tree-nav-levels);
}
